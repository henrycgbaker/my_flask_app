{% extends "layout.html" %}

{% block content %}
<div class="container">
    <h1>Cluster Analysis - In-depth Segmentation</h1>

    <p> NB: Click on the RHS keys to toggle clusters </p>
    <br>

    <div class="button-container">
        <div class="country-buttons">
            {% for country_option in ['England', 'Scotland', 'Wales', 'All'] %}
            <button onclick="window.location.href='{{ url_for('cluster_analysis_2', country=country_option, x_axis=current_x_axis) }}'"
                    class="{{ 'selected' if country_option == current_country else '' }}">
                {{ country_option }}
            </button>
            {% endfor %}
        </div>

    <div class="x-axis-buttons">
        {% for x_axis_option in ['Population Density', 'Female Pop %', 'Student Pop %', 'Retired Pop %', 'Married Pop %'] %}
        <button onclick="window.location.href='{{ url_for('cluster_analysis_2', x_axis=x_axis_option, country=current_country) }}'"
                class="{{ 'selected' if x_axis_option == current_x_axis else '' }}">
            {{ x_axis_option }}
        </button>
        {% endfor %}
    </div>
    <br>
</div>

<!-- 5) Scatter Plot Visualization -->
<div id="plot5_scatter"></div>
    <script>
        var graphJSON5_scatter = {{ graphJSON5_scatter | safe }};
        Plotly.newPlot('plot5_scatter', graphJSON5_scatter);
    </script> 
</div>

<!-- 4) Histogram Visualization -->
<div id="plot4_histogram"></div>
    <script>
        var graphJSON4_histogram = {{ graphJSON4_histogram | safe }};
        Plotly.newPlot('plot4_histogram', graphJSON4_histogram);
    </script>


</div>

<div class="container">
    <p>I calculated both the dominant political party and cluster in each constituency based on vote share.</p>

    <p>NB: The 'Population Density' variable is presented without specific units and remains unspecified in this analysis.</p>

    <br> 
    <p>Collectively, these panels offer a more nuances understanding of the demographic characeristics of specific voter subgroups 
        and their relationship on electoral outcomes in various constituencies. 

        These insights are o aid campaign strategists and political stakeholders by providing insights for more precise targeting of political messaging by segmenting political groups.</p>
    <br> 
    <p>By segmenting clusters based on demographic dimensions, we gain insight into the disparities between communities and their 
        differing political preferences, even those which seem similar along a given dimension(s). For example, 
        low population density areas *typically* show support for *both* the Conservative and Labour parties, 
        however, this analysis reveals significant further distinctions. Constituencies favoring  Conservatives generally consist of older 
        populations in rural or suburban settings. In contrast, Labour-leaning constituencies in areas of similar population density are characterized 
        by a more diverse demographic profile, including a higher proportion of younger voters.</p>
    <br> 
    <p>This segmentation enables campaigners to tailor their communications effectively, ensuring that messaging resonates with the intended audience.</p>
    <br> 
    <p>The presented visualizations convey complementary perspectives. 
        The scatter plot is geared towards how the clusters voted, providing strategic insights into electoral behavior.
        The second plot then visualises the distribution and size of each cluster, highlighting their political salience. 
    </p>
</div>
    
{% endblock %}
